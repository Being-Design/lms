function bp_r_t_admin_bind(){$=jQuery.noConflict(),$("#frm_bp_r_t_a_screen .sortable").sortable(),$("#frm_bp_r_t_a_screen .sortable").disableSelection(),$("#frm_bp_r_t_a_screen .nav-list > li").each(function(){$(this).find(".subnav-list").length>0&&$(this).addClass("has-children").find(" > .drag-handle").append("<span class='dashicons dashicons-arrow-down'></span>")}),$("#frm_bp_r_t_a_screen .drag-handle > span").click(function(n){n.preventDefault(),$(this).toggleClass("dashicons-arrow-down").toggleClass("dashicons-arrow-up"),$parent=$(this).closest(".nav"),$parent.toggleClass("expanded").find(".subnav-list").slideToggle()});var n={dataType:"json",beforeSerialize:function(n,e){var r={},t=1;n.find(" > .sortable > li").each(function(n,e){if($el_outer=$(e),"undefined"!=$el_outer.data("navid")&&""!=$el_outer.data("navid")){var o={position:t,subnavs:{}},a=1;$el_outer.find(".sortable > li").each(function(n,e){var r={position:a};o.subnavs[$(e).data("navid")]=r,a++}),r[$el_outer.data("navid")]=o,t++}}),n.find("#config_data").val(json_encode(r))},beforeSubmit:function(n,e,r){e.find("div.updated").remove()},success:function(n){$(".updated.bbreordertabs").remove(),$(".wrap").find("h2").first().append("<div class='updated fade bbreordertabs'><p><strong>"+n.message+"</strong></p></div>"),window.scrollTo(0,0)},error:function(n,e,r){}};$("#frm_bp_r_t_a_screen").ajaxForm(n)}function json_encode(n){var e,r=this.window.JSON;try{if("object"==typeof r&&"function"==typeof r.stringify){if(e=r.stringify(n),void 0===e)throw new SyntaxError("json_encode");return e}var t=n,o=function(n){var e=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return e.lastIndex=0,e.test(n)?'"'+n.replace(e,function(n){var e=r[n];return"string"==typeof e?e:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'},a=function(n,e){var r="",t="    ",i=0,s="",u="",f=0,c=r,d=[],l=e[n];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(n)),typeof l){case"string":return o(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(this.PHPJS_Resource&&l instanceof this.PHPJS_Resource||window.PHPJS_Resource&&l instanceof window.PHPJS_Resource)throw new SyntaxError("json_encode");if(r+=t,d=[],"[object Array]"===Object.prototype.toString.apply(l)){for(f=l.length,i=0;f>i;i+=1)d[i]=a(i,l)||"null";return u=0===d.length?"[]":r?"[\n"+r+d.join(",\n"+r)+"\n"+c+"]":"["+d.join(",")+"]",r=c,u}for(s in l)Object.hasOwnProperty.call(l,s)&&(u=a(s,l),u&&d.push(o(s)+(r?": ":":")+u));return u=0===d.length?"{}":r?"{\n"+r+d.join(",\n"+r)+"\n"+c+"}":"{"+d.join(",")+"}",r=c,u;case"undefined":case"function":default:throw new SyntaxError("json_encode")}};return a("",{"":t})}catch(i){if(!(i instanceof SyntaxError))throw new Error("Unexpected error type in json_encode()");return this.php_js=this.php_js||{},this.php_js.last_error_json=4,null}}jQuery(document).ready(function(n){bp_r_t_admin_bind()});