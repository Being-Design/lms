!function(a){a(document).ready(function(){function b(b){var c=[],d=b.prev();a("tr:not([data-repeater])",b).each(function(){a("input",this).each(function(){var b=a(this).attr("data-name"),d=b.split(/[[\]]{1,2}/);void 0===c[d[3]]&&(c[d[3]]={}),c[d[3]][d[4]]=a(this).val()})}),d.val(JSON.stringify(c)).trigger("change")}a(document).on("click",".gf_login_widget_editor .tabs a",function(b){b.preventDefault();var c=a(this).parent().parent(),d=a(this).parent(),e=a(this).attr("data-tab");d.find("a").removeClass("active"),a(this).addClass("active"),c.find('.tab-content:not( [data-tab="'+e+'"] )').hide(),c.find('.tab-content[data-tab="'+e+'"]').show(),c.find('input[data-type="active_view"]').val(e)}),a(document).on("click",".gf_login_widget_add_link",function(c){c.preventDefault();var d=a(this).prev(),e=a("tr[data-repeater]",d);a("tr.new",d).removeClass("new");var f=0;a("tr:not([data-repeater])",d).each(function(){var b=a("td:first-child input",this).attr("data-name"),c=/\[(\d*)\]/gim,d=b.match(c)[1];d=parseInt(d.replace("[","").replace("]","")),d>f&&(f=d)}),f++;var g=a('<tr class="new">'+e.html()+"</tr>"),h=a("input.link-text",g),i=a("input.link-url",g);h.attr("data-name",h.attr("data-name")+"["+f+"][text]"),i.attr("data-name",i.attr("data-name")+"["+f+"][url]"),g.insertBefore(e),b(d)}),a(document).on("click",'.gf_login_widget_links a[data-action="delete-link"]',function(c){c.preventDefault();var d=a(this).closest("tr"),e=a(this).closest("table");d.remove(),0===a("tr:not([data-repeater])",e).length&&e.next().click(),b(e)}),a(document).on("change",".gf_login_widget_links input",function(){b(a(this).closest("table"))}),a(document).on("change",".gf_login_widget_registrationpage",function(){"custom"===a(this).val()?a(this).next("table").show():a(this).next("table").hide()})})}(jQuery);